<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<title>Title</title>
	<script>

        const getUrl = () => {
            const apiKey = `bdbcfc94d985a0cbd9272274a76a46f7` // api 키
            const q = 'Seoul' // 도시 - 서울
            let url = `https://api.openweathermap.org/data/2.5/forecast?q=${q}&appid=${apiKey}` // 5일간의 날씨를 받아옴
			return url;
        }

        function getJson(url, callback) {
            const xhr = new XMLHttpRequest();

            xhr.open('GET', url);

            xhr.onreadystatechange = function () {
                if (xhr.readyState !== XMLHttpRequest.DONE) {
                    return;
                }
                if (xhr.status === 200) { // 서버(url)문서가 존재함
                    console.log(xhr.responseText);
                    callback(JSON.parse(xhr.responseText));
                } else { // 정상적인 통신이 안된 경우, response 에서 문제가 있는 경우
                    console.error('Error', xhr.status, xhr.statusText);
                }
            }

            xhr.send()
        }

        function callback(obj) {
            console.log(obj); // 콘솔창에 obj 출력 -> obj안에 필요한 값을 뽑아낼 수 있음

			// 예시)
			// console.log(obj.city.name); // 콘솔창에 Seoul 출력
        }

        document.addEventListener('DOMContentLoaded', function () {
            getJson(getUrl(), callback);

        });



	</script>
</head>
<body>
<div>

</div>
<table>
	<thead>

	</thead>
	<tbody>

	</tbody>
</table>
</body>
</html>